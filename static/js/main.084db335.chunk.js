(this.webpackJsonpgates=this.webpackJsonpgates||[]).push([[0],{123:function(t,e,i){},135:function(t,e,i){},136:function(t,e,i){},139:function(t,e,i){},141:function(t,e,i){},142:function(t,e,i){},143:function(t,e,i){"use strict";i.r(e);var n,s=i(0),o=i.n(s),a=i(35),r=i.n(a),c=(i(123),i(124),i(125),function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,198)).then((function(e){var i=e.getCLS,n=e.getFID,s=e.getFCP,o=e.getLCP,a=e.getTTFB;i(t),n(t),s(t),o(t),a(t)}))}),h=i(8),u=i(9),l=i(48),d=i(16),p=i(17),v=i(188),f=i(187),b=i(19),y=i(5),m=i(20),O=i(191),j=i(192),w=i(189),x=i(193),g=i(183),k=i(195),P=i(196),T=i(190),N=i(185),M=i(104),S=i(41),C=i(3),U=i(15),E=i(33),L=i.n(E),D=i(186),R=i(109),_=i(1),I=["onGateMouseDown","onGateMouseUp","onGateContextMenu"],B=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).state={},n.props.logicComponent.updateSelf=function(){return n.setState({})},n}return Object(u.a)(i,[{key:"getTransforms",value:function(){var t=this.props.logicComponent.geometry.position,e=t.x,i=t.y;return["translate(".concat(e," ").concat(i,")"),"rotate(".concat(this.props.logicComponent.geometry.rotation,")")].join(" ")}},{key:"render",value:function(){var t=this.props.handlers,e=(t.onGateMouseDown,t.onGateMouseUp,t.onGateContextMenu,Object(R.a)(t,I)),i=this.props.logicComponent.pins().map((function(t){return t.render(e)})),n=this.props.logicComponent,s=["component"];return n.body.selected&&s.push("selected"),Object(_.jsxs)("g",{className:s.join(" "),"data-ctype":n.subtype,"data-uuid":n.uuid,transform:this.getTransforms(),children:[Object(_.jsxs)("g",{onMouseDown:this.props.handlers.onGateMouseDown,onMouseUp:this.props.handlers.onGateMouseUp,onMouseMove:this.props.handlers.onGateMouseMove,onContextMenu:this.props.handlers.onGateContextMenu,children:[Object(_.jsx)("path",{d:n.d}),n.extraRender()]}),this.props.logicComponent.pins().map((function(t,e){return t.renderLabel(e)})),i]})}}]),i}(o.a.Component),A=function(){function t(e){var i,n,s,o,a,r,c,u,l,d,p,v,f;Object(h.a)(this,t),this.__fieldWidth=-1,this.__width=-1,this.__d="",this.uuid=void 0,this.type=void 0,this.subtype=void 0,this.scope=void 0,this.board=void 0,this.delay=void 0,this.adjustableWidth=void 0,this.adjustableFieldWidth=void 0,this.minFieldWidth=void 0,this.maxFieldWidth=void 0,this.canMerge=void 0,this.isMerged=void 0,this.isMux=void 0,this.hasDelay=void 0,this.body=void 0,this.geometry=void 0,this.inputPins=[],this.outputPins=[],this.updateSelf=void 0,this.uuid=Object(D.a)(),this.scope=e.scope,this.type=e.type,this.subtype=e.subtype,this.delay=null!==(i=e.delay)&&void 0!==i?i:1,this.adjustableWidth=null!==(n=e.adjustableWidth)&&void 0!==n&&n,this.adjustableFieldWidth=null!==(s=e.adjustableFieldWidth)&&void 0!==s&&s,this.minFieldWidth=null!==(o=e.minFieldWidth)&&void 0!==o?o:1,this.maxFieldWidth=null!==(a=e.maxFieldWidth)&&void 0!==a?a:1,this.canMerge=null!==(r=e.canMerge)&&void 0!==r&&r,this.isMerged=null!==(c=e.isMerged)&&void 0!==c&&c&&this.canMerge,this.isMux=null!==(u=e.isMux)&&void 0!==u&&u,this.hasDelay=null===(l=e.hasDelay)||void 0===l||l,this.board=e.board;var b=null!==(d=e.width)&&void 0!==d?d:1,y=null!==(p=e.fieldWidth)&&void 0!==p?p:0;this.updateGeometry({width:b,fieldWidth:y}),this.__fieldWidth=null!==(v=e.fieldWidth)&&void 0!==v?v:0,this.__width=null!==(f=e.width)&&void 0!==f?f:1,this.reset()}return Object(u.a)(t,[{key:"makeUpdateGeometryParams",value:function(t){var e,i;return{fieldWidth:null!==(e=t.fieldWidth)&&void 0!==e?e:this.fieldWidth,width:null!==(i=t.width)&&void 0!==i?i:this.width}}},{key:"updateGeometry",value:function(t){var e=this.makeUpdateGeometryParams(t),i=this.scope,n=i.Group,s=i.Point,o=!1;this.body&&(this.body.remove(),o=this.body.selected),this.body=this.setUpBody(e),this.body.selected=o,this.geometry||(this.geometry=new n,this.geometry.pivot=new s(0,0),this.geometry.applyMatrix=!1),this.setUpPins(e),this.geometry.addChild(this.body),this.geometry.addChildren(this.pins().map((function(t){return t.geometry}))),this.__d=this.body.exportSVG().getAttribute("d"),this.body.data={type:"Component",logic:this,geometry:this.geometry}}},{key:"bitMask",value:function(t){var e;return(1<<(t=null!==(e=t)&&void 0!==e?e:this.width))-1}},{key:"pins",value:function(){return[].concat(Object(m.a)(this.inputPins),Object(m.a)(this.outputPins))}},{key:"clearPins",value:function(){var t,e=Object(U.a)(this.pins());try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(i){e.e(i)}finally{e.f()}this.inputPins=[],this.outputPins=[]}},{key:"setUpPins",value:function(t){this.inputPins=[].concat(Object(m.a)(this.setUpInputPins(t)),Object(m.a)(this.setUpSelectorPins(t))),this.outputPins=this.setUpOutputPins(t)}},{key:"setUpInputPins",value:function(t){return[]}},{key:"setUpOutputPins",value:function(t){return[]}},{key:"setUpSelectorPins",value:function(t){return[]}},{key:"collides",value:function(t){var e=this.geometry.matrix,i=e.inverted(),n=this.body;t.transform(i);var s=n.intersects(t)||t.contains(n.position)||n.contains(t.position);return t.transform(e),s}},{key:"fieldWidth",get:function(){return this.__fieldWidth},set:function(t){this.__fieldWidth!==t&&(this.updateGeometry({fieldWidth:t}),this.__fieldWidth=t,this.updateSelf&&this.updateSelf())}},{key:"width",get:function(){return this.__width},set:function(t){this.__width!==t&&(this.updateGeometry({width:t}),this.__width=t,this.updateSelf&&this.updateSelf())}},{key:"d",get:function(){return this.__d}},{key:"selected",get:function(){return this.body.selected},set:function(t){this.body.selected!==t&&(this.body.selected=t,this.update())}},{key:"translate",value:function(t){this.geometry.translate(t),this.update(),this.pins().flatMap((function(t){return Object(m.a)(t.connections.values())})).forEach((function(t){return t.update()}))}},{key:"postEvent",value:function(t,e){var i,n;e=null!==(i=e)&&void 0!==i?i:this.outputPins[0],null===(n=this.board)||void 0===n||n.postEvent(t,e,this.delay)}},{key:"remove",value:function(){var t;this.clearPins(),delete this.body.data.logic,this.body.remove(),this.geometry.remove(),null===(t=this.board)||void 0===t||t.removeComponent(this.uuid)}},{key:"extraRender",value:function(){return Object(_.jsx)(_.Fragment,{})}},{key:"render",value:function(t){return Object(_.jsx)(B,Object(b.a)({},this.getRenderParams(t)),this.uuid)}},{key:"update",value:function(){this.updateSelf&&this.updateSelf()}},{key:"getRenderParams",value:function(t){var e,i,n,s;return{type:this.subtype,logicComponent:this,scope:this.scope,handlers:{onGateMouseDown:null===t||void 0===t||null===(e=t.onGateMouseDown)||void 0===e?void 0:e.bind(void 0,this),onGateMouseUp:null===t||void 0===t||null===(i=t.onGateMouseUp)||void 0===i?void 0:i.bind(void 0,this),onGateMouseMove:null===t||void 0===t||null===(n=t.onGateMouseMove)||void 0===n?void 0:n.bind(void 0,this),onGateContextMenu:null===t||void 0===t||null===(s=t.onGateContextMenu)||void 0===s?void 0:s.bind(void 0,this),onPinMouseDown:null===t||void 0===t?void 0:t.onPinMouseDown,onPinMouseUp:null===t||void 0===t?void 0:t.onPinMouseUp,onPinMouseMove:null===t||void 0===t?void 0:t.onPinMouseMove,onPinContextMenu:null===t||void 0===t?void 0:t.onPinContextMenu}}}},{key:"reset",value:function(){var t,e=Object(U.a)(this.pins());try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(i){e.e(i)}finally{e.f()}}}]),t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.GATE=1]="GATE",t[t.INPUT=2]="INPUT",t[t.OUTPUT=3]="OUTPUT",t[t.COMPOSITE_BUILT_IN=4]="COMPOSITE_BUILT_IN",t[t.COMPOSITE_CUSTOM=5]="COMPOSITE_CUSTOM"}(n||(n={}));var G=n;function W(){var t=new L.a.PaperScope;return t.setup(),t.project.draw=function(){},t}var z,F,X=W(),H="M 0 0 L 8 0 Q 22.72 0 32 16 Q 22.72 32 8 32 L 0 32 Q 8 16 0 0 Z",V=i(182),K=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).state={},n.props.pin.updateSelf=function(){return n.setState({})},n}return Object(u.a)(i,[{key:"render",value:function(){var t,e,i,n=this.props.pin.geometry.data;this.props.pin.geometry.data={};var s=this.props.pin.geometry.exportSVG().getAttribute("d");this.props.pin.geometry.data=n;var o={d:s},a=["pin"];(null===(t=this.props.pin.geometry)||void 0===t?void 0:t.selected)&&a.push("selected");var r=Object(y.a)(this.props.pin.anchor,1)[0];return Object(_.jsx)(V.a,{title:"Width: ".concat(this.props.pin.width),children:Object(_.jsxs)("g",{className:a.join(" "),onMouseDown:null===(e=this.props.handlers)||void 0===e?void 0:e.onPinMouseDown,onMouseUp:null===(i=this.props.handlers)||void 0===i?void 0:i.onPinMouseUp,onContextMenu:function(){return console.log("context p!")},children:[Object(_.jsx)("circle",{className:"anchor",cx:r.x,cy:r.y,r:5}),Object(_.jsx)("path",Object(b.a)({},o)),this.props.pin.width>1&&Object(_.jsx)("path",Object(b.a)({className:"wide"},o))]},this.props.pin.uuid)})}}]),i}(o.a.Component),Q=function(){function t(e){var i,n,s;Object(h.a)(this,t),this.v=void 0,this.x=void 0,this.z=void 0,this.v=null!==(i=e.v)&&void 0!==i?i:0,this.x=null!==(n=e.x)&&void 0!==n?n:0,this.z=null!==(s=e.z)&&void 0!==s?s:0}return Object(u.a)(t,[{key:"eq",value:function(t){return this.v===t.v&&this.x===t.x&&this.z===t.z}},{key:"ne",value:function(t){return this.v!==t.v||this.x!==t.x||this.z!==t.z}},{key:"negated",value:function(e){var i=(1<<e)-1;return new t({v:~this.v&~this.x&~this.z&i,x:this.x,z:this.z})}}]),t}(),Z=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).state={},n.props.connection.updateSelf=function(){return n.setState({})},n}return Object(u.a)(i,[{key:"render",value:function(){var t=this.props.connection,e=t.source,i=t.sink,n=Object(y.a)(e.anchor,2),s=n[0],o=n[1],a=Object(y.a)(i.anchor,2),r=a[0],c=a[1];s=e.transform(s),r=i.transform(r);var h,u=Math.min(s.getDistance(r),30),l=s.add(o.multiply(u)),d=r.add(c.multiply(u)),p=s,v=p.x,f=p.y,b=r,m=b.x,O=b.y,j=l.x,w=l.y,x=d.x,g=d.y,k="M ".concat(v-1," ").concat(f," A ").concat(1," ").concat(1," 180 0 0 ").concat(v+1," ").concat(f," "),P="A ".concat(1," ").concat(1," 180 0 0 ").concat(v-1," ").concat(f," "),T="M ".concat(m-1," ").concat(O," A ").concat(1," ").concat(1," 180 0 0 ").concat(m+1," ").concat(O," "),N="A ".concat(1," ").concat(1," 180 0 0 ").concat(m-1," ").concat(O," "),M="".concat(k," ").concat(P," M ").concat(v," ").concat(f," C ").concat(j," ").concat(w," ").concat(x," ").concat(g," ").concat(m," ").concat(O," ").concat(T," ").concat(N),S=this.props.connection.source.state;return h=S.x||S.z?"error":S.v?"on":"off",Object(_.jsxs)("g",{className:"connection",children:[Object(_.jsx)("path",{className:"connection-outer",d:M}),Object(_.jsx)("path",{fillRule:"nonzero",className:"connection-inner ".concat(h),d:M}),this.props.connection.source.width>1&&Object(_.jsx)("path",{fillRule:"nonzero",className:"connection-inner bus",d:M})]})}}]),i}(o.a.Component),Y=function(){function t(e){var i,n;Object(h.a)(this,t),this.uuid=void 0,this.source=void 0,this.sink=void 0,this.hidden=void 0,this.board=void 0,this.updateSelf=void 0,this.uuid=null!==(i=e.uuid)&&void 0!==i?i:Object(D.a)(),this.source=e.source,this.sink=e.sink,this.hidden=null!==(n=e.hidden)&&void 0!==n&&n,this.board=e.board}return Object(u.a)(t,[{key:"remove",value:function(){var t;this.source.connections.delete(this.uuid),this.sink.connections.delete(this.uuid),null===(t=this.board)||void 0===t||t.removeConnection(this.uuid)}},{key:"render",value:function(){return Object(_.jsx)(Z,{connection:this},this.uuid)}},{key:"update",value:function(){this.updateSelf&&this.updateSelf()}}]),t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT"}(z||(z={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.INPUT=1]="INPUT",t[t.OUTPUT=2]="OUTPUT"}(F||(F={}));var J,q=function(){function t(e){var i,n,s,o;Object(h.a)(this,t),this.parent=void 0,this.connectionAnchor=void 0,this.uuid=void 0,this.board=void 0,this.width=void 0,this.geometry=void 0,this.not=void 0,this.orientation=void 0,this.pinType=void 0,this.state=void 0,this.label=void 0,this.connections=new Map,this.updateSelf=void 0,this.uuid=Object(D.a)(),this.parent=e.parent,this.width=null!==(i=e.width)&&void 0!==i?i:1,this.orientation=null!==(n=e.orientation)&&void 0!==n?n:z.LEFT,this.pinType=e.pinType,this.not=null!==(s=e.not)&&void 0!==s&&s,this.state=new Q({}),this.board=e.board,this.label=e.label,null===(o=this.board)||void 0===o||o.addPin(this)}return Object(u.a)(t,[{key:"setLogicState",value:function(t){switch(this.state=t,this.pinType){case F.INPUT:this.parent.operate();break;case F.OUTPUT:this.updateNext();break;default:throw new Error}}},{key:"updateNext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.pinType!==F.OUTPUT)throw new Error;var e,i=Object(U.a)(this.connections.values());try{for(i.s();!(e=i.n()).done;){var n=e.value;n.update();var s=n.sink;(t||this.state.ne(s.state))&&s.setLogicState(this.state),s.parent.operate()}}catch(o){i.e(o)}finally{i.f()}}},{key:"disconnect",value:function(){this.connections.forEach((function(t){return t.remove()})),this.connections.clear()}},{key:"canConnect",value:function(t){if(this.width!==t.width)return!1;switch(this.pinType){case F.INPUT:return t.pinType===F.OUTPUT;case F.OUTPUT:return t.pinType===F.INPUT}return!1}},{key:"connectTo",value:function(t){if(!this.canConnect(t))return null;if(this.pinType===F.INPUT){if(this.isConnectedTo(t))return null;this.disconnect();var e=new Y({source:t,sink:this,board:this.board});return this.connections.set(e.uuid,e),t.connections.set(e.uuid,e),this.setLogicState(t.state),e}return t.connectTo(this)}},{key:"isConnectedTo",value:function(t){return this.connections.has(t.uuid)}},{key:"remove",value:function(){var t,e,i;this.disconnect(),null===(t=this.geometry)||void 0===t||t.remove(),null===(e=this.geometry)||void 0===e||delete e.data.logic,null===(i=this.board)||void 0===i||i.removePin(this.uuid)}},{key:"renderLabel",value:function(t){if(this.label){var e;switch(this.orientation){case z.UP:e="top";break;case z.DOWN:e="bottom";break;case z.LEFT:e="left";break;case z.RIGHT:e="right";break;default:e=""}var i=this.label.split("__"),n=Object(y.a)(i,2),s=n[0],o=n[1];return Object(_.jsxs)("text",{className:e,x:this.pos.x,y:this.pos.y,children:[s,o&&Object(_.jsx)("tspan",{children:o})]},t)}}},{key:"render",value:function(t){return Object(_.jsx)(K,Object(b.a)({},this.getRenderParams(t)),this.uuid)}},{key:"getRenderParams",value:function(t){var e,i,n,s;return{pin:this,type:this.pinType,handlers:{onPinMouseUp:null===t||void 0===t||null===(e=t.onPinMouseUp)||void 0===e?void 0:e.bind(void 0,this),onPinMouseDown:null===t||void 0===t||null===(i=t.onPinMouseDown)||void 0===i?void 0:i.bind(void 0,this),onPinMouseMove:null===t||void 0===t||null===(n=t.onPinMouseMove)||void 0===n?void 0:n.bind(void 0,this),onPinContextMenu:null===t||void 0===t||null===(s=t.onPinContextMenu)||void 0===s?void 0:s.bind(void 0,this)}}}},{key:"updateGeometry",value:function(t){this.geometry&&this.geometry.remove();var e,i=this.parent.scope,n=i.CompoundPath,s=i.Path,o=i.Point;switch((e=this.not?new n("M -4 0 A 4 4 180 0 1 4 0 A 4 4 180 0 1 -4 0 Z M 3.47 -2 L 18.5 -2 L 20 0 L 18.5 2 L 3.467 2 A 4 4 -20 0 0 3.467 -2 Z"):new s("M -4 -2 L 18.5 -2 L 20 0 L 18.5 2 L -4 2 Z")).pivot=new o(0,0),this.orientation){case z.UP:e.rotate(-90),this.connectionAnchor=new o(0,-18);break;case z.DOWN:e.rotate(90),this.connectionAnchor=new o(0,18);break;case z.LEFT:e.rotate(180),this.connectionAnchor=new o(-18,0);break;case z.RIGHT:this.connectionAnchor=new o(18,0);break;default:throw new Error("Unknown pin orientation")}e.translate(t),this.geometry=e.subtract(this.parent.body),e.remove(),this.geometry.data.type="Pin",this.geometry.data.logical=this}},{key:"update",value:function(){this.updateSelf&&this.updateSelf()}},{key:"transform",value:function(t){return this.parent.geometry.matrix.transform(t)}},{key:"rotation",get:function(){return this.parent.geometry.rotation}},{key:"pos",get:function(){return this.geometry.position}},{key:"selected",get:function(){var t,e;return null!==(t=null===(e=this.geometry)||void 0===e?void 0:e.selected)&&void 0!==t&&t},set:function(t){this.geometry&&this.geometry.selected!==t&&(this.geometry.selected=t,this.update())}},{key:"anchor",get:function(){return[this.pos.add(this.connectionAnchor),this.connectionAnchor.rotate(this.rotation,new this.parent.scope.Point(0,0)).divide(18)]}},{key:"collides",value:function(t){var e=this.geometry,i=e.parent.matrix,n=i.inverted();t.transform(n);var s=e.intersects(t)||t.contains(e.position)||e.contains(t.position);return t.transform(i),s}},{key:"bitMask",value:function(t){var e;return(1<<(t=null!==(e=t)&&void 0!==e?e:this.width))-1}},{key:"reset",value:function(){this.pinType===F.INPUT&&0!==this.connections.size||(this.pinType===F.INPUT?(this.setLogicState(new Q({z:this.bitMask()})),this.parent.operate()):(this.setLogicState(new Q({x:this.bitMask()})),this.updateNext(!0)))}}]),t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.AND=1]="AND",t[t.NAND=2]="NAND",t[t.OR=3]="OR",t[t.NOR=4]="NOR",t[t.XOR=5]="XOR",t[t.XNOR=6]="XNOR",t[t.BUF=7]="BUF",t[t.NOT=8]="NOT"}(J||(J={}));var $,tt=J;function et(t){switch(t){case tt.NAND:case tt.NOR:case tt.XNOR:case tt.NOT:return!0;case tt.AND:case tt.OR:case tt.XOR:case tt.BUF:return!1;default:throw new Error("Unsupported Gate Type(".concat(t,")"))}}function it(t){switch(t){case tt.AND:case tt.NAND:case tt.OR:case tt.NOR:case tt.XOR:case tt.XNOR:return 2;case tt.BUF:case tt.NOT:return 1;default:throw new Error("Unsupported Gate Type(".concat(t,")"))}}function nt(t){switch(t){case tt.AND:case tt.NAND:case tt.OR:case tt.NOR:case tt.XOR:case tt.XNOR:return 4;case tt.BUF:case tt.NOT:return 1;default:throw new Error("Unsupported Gate Type(".concat(t,")"))}}var st=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.GATE,fieldWidth:Math.min(2,nt(t.subtype)),adjustableWidth:!0,adjustableFieldWidth:nt(t.subtype)>1,minFieldWidth:it(t.subtype),maxFieldWidth:nt(t.subtype)}))).opFunc=void 0,n.opFunc=i.opFuncs[n.subtype].bind(Object(l.a)(n)),n}return Object(u.a)(i,[{key:"opAnd",value:function(){var t,e=this.bitMask(),i=0,n=0,s=Object(U.a)(this.inputPins);try{for(s.s();!(t=s.n()).done;){var o=t.value;n|=~(o.state.v|o.state.x|o.state.z),e&=o.state.v,i|=o.state.x,i|=o.state.z}}catch(a){s.e(a)}finally{s.f()}return new Q({v:e,x:i&=~n,z:0})}},{key:"opNand",value:function(){return this.opAnd().negated(this.width)}},{key:"opOr",value:function(){var t,e=0,i=0,n=Object(U.a)(this.inputPins);try{for(n.s();!(t=n.n()).done;){var s=t.value;e|=s.state.v,i|=s.state.x,i|=s.state.z}}catch(o){n.e(o)}finally{n.f()}return new Q({v:e,x:i&=~e,z:0})}},{key:"opNor",value:function(){return this.opOr().negated(this.width)}},{key:"opXor",value:function(){var t,e=0,i=0,n=Object(U.a)(this.inputPins);try{for(n.s();!(t=n.n()).done;){var s=t.value;e^=s.state.v,i|=s.state.x,i|=s.state.z}}catch(o){n.e(o)}finally{n.f()}return new Q({v:e&~i,x:i,z:0})}},{key:"opXnor",value:function(){return this.opXor().negated(this.width)}},{key:"opBuf",value:function(){var t=Object(y.a)(this.inputPins,1)[0],e=t.state.v,i=t.state.x|t.state.z;return new Q({v:e,x:i,z:0})}},{key:"opNot",value:function(){var t=Object(y.a)(this.inputPins,1)[0],e=t.state.x|t.state.z,i=~t.state.v&this.bitMask()&~e;return new Q({v:i,x:e,z:0})}},{key:"operate",value:function(){if(this.opFunc){var t=this.opFunc();this.postEvent(t,this.outputPins[0])}}},{key:"setUpBody",value:function(){return new(0,this.scope.CompoundPath)(function(t){switch(t){case tt.AND:case tt.NAND:return"M 0 0 L 16 0 A 16 16 -180 0 1 16 32 L 0 32 L 0 0 Z";case tt.OR:case tt.NOR:return H;case tt.XOR:case tt.XNOR:return"M 0 0 L 8 0 Q 22.72 0 32 16 Q 22.72 32 8 32 L 0 32 Q 8 16 0 0 Z M -4 0 Q 4 16 -4 32 Q 4 16 -4 0 Z";case tt.BUF:case tt.NOT:return"M 0 0 L 32 16 L 0 32 L 0 0 Z";default:throw new Error("Unsupported Gate Type")}}(this.subtype))}},{key:"setUpInputPins",value:function(t){var e=t.fieldWidth,i=t.width,n=this.inputPins.slice(0,e);this.inputPins.slice(e).forEach((function(t){return t.remove()}));for(var s=Math.max(this.fieldWidth,0);s<e;++s)n.push(new q({parent:this,pinType:F.INPUT,orientation:z.LEFT,board:this.board,width:i}));i!==this.width&&n.forEach((function(t){t.disconnect(),t.width=i}));for(var o=1===e?16:2===e?32/3:3===e?6:2,a=2===e?32/3:3===e?10:28/3,r=0;r<e;++r)n[r].updateGeometry(new L.a.Point(0,o+r*a));return n}},{key:"setUpOutputPins",value:function(t){var e=t.width;if(this.outputPins.length>0)return e!==this.width&&this.outputPins.forEach((function(t){return t.width=e})),this.outputPins;var i=new q({parent:this,pinType:F.OUTPUT,orientation:z.RIGHT,not:et(this.subtype),board:this.board,width:e});return i.updateGeometry(new L.a.Point(32,16)),[i]}}]),i}(A);st.opFuncs=($={},Object(C.a)($,tt.AND,st.prototype.opAnd),Object(C.a)($,tt.NAND,st.prototype.opNand),Object(C.a)($,tt.OR,st.prototype.opOr),Object(C.a)($,tt.NOR,st.prototype.opNor),Object(C.a)($,tt.XOR,st.prototype.opXor),Object(C.a)($,tt.XNOR,st.prototype.opXnor),Object(C.a)($,tt.BUF,st.prototype.opBuf),Object(C.a)($,tt.NOT,st.prototype.opNot),Object(C.a)($,tt.UNKNOWN,(function(){throw new Error("Unsupported type")})),$);var ot=st,at=i(102),rt=i.n(at),ct=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.OUTPUT,hasDelay:!1}))).on=!1,n}return Object(u.a)(i,[{key:"operate",value:function(){this.on=1===this.inputPins[0].state.v,this.update()}},{key:"extraRender",value:function(){var t=this.on?"auto":"none";return Object(_.jsx)("circle",{className:"bulb-glow",cx:16,cy:16,r:32,display:t})}},{key:"setUpBody",value:function(){return new this.scope.Path("M 27.3137084989848 27.3137084989848 A 16 16 90 1 0 4.68629150101524 27.3137084989848 Q 9.238107812 31.86552481 10.71553501 36 Q 11.21553501 37.39921453 11.71553501 40 C 12.21553501 42.60078547 19.78446499 42.60078547 20.28446499 40 Q 20.78446499 37.39921453 21.28446499 36 Q 22.76189219 31.86552481 27.3137085 27.3137085")}},{key:"setUpInputPins",value:function(){var t=this.body.bounds.bottom,e=new q({parent:this,pinType:F.INPUT,orientation:z.DOWN,board:this.board});return e.updateGeometry(new rt.a.Point(16,t)),[e]}}]),i}(A),ht=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;Object(h.a)(this,i),n=e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.INPUT,delay:10}));var s=Object(y.a)(n.outputPins,1)[0],o=new Y({source:s,sink:s});return s.connections.set(s.uuid,o),n}return Object(u.a)(i,[{key:"operate",value:function(){var t=this.outputPins[0].state.negated(1);this.postEvent(t)}},{key:"setUpBody",value:function(){var t=this.scope,e=t.Path,i=t.Point,n=t.Size;return new e.Rectangle(new i(0,0),new n(32,32))}},{key:"setUpOutputPins",value:function(){var t=new q({parent:this,pinType:F.OUTPUT,orientation:z.RIGHT,board:this.board});return t.updateGeometry(new this.scope.Point(32,16)),[t]}},{key:"extraRender",value:function(){return Object(_.jsx)("path",{className:"decoration",d:i.clockPath,fill:"none"})}},{key:"reset",value:function(){var t=Object(y.a)(this.outputPins,1)[0];t.setLogicState(new Q({v:0})),t.updateNext(!0),this.operate()}}]),i}(A);ht.clockPath="M4,12L8,12L8,20L16,20L16,12L24,12L24,20L28,20";var ut=ht,lt=i(103),dt=i(85),pt=i(30),vt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.INPUT,adjustableWidth:!0,hasDelay:!1}))}return Object(u.a)(i,[{key:"operate",value:function(){}},{key:"setUpBody",value:function(t){var e=t.width,i=this.scope,n=i.Path,s=i.Point,o=i.Size;return new n.Rectangle(new s(0,0),new o(32*e,32))}},{key:"setUpOutputPins",value:function(t){var e=t.width,i=new q({parent:this,pinType:F.OUTPUT,orientation:z.RIGHT,board:this.board,width:e});return i.updateGeometry(new this.scope.Point(32*e,16)),[i]}},{key:"extraRender",value:function(){for(var t=Object(y.a)(this.outputPins,1)[0],e=[],i=0;i<this.width;i++){var n=["switch"],s="0";t.state.v>>i&1&&(n.push("on"),s="1");var o=16+32*(this.width-i-1);e.push(Object(_.jsx)("circle",{className:n.join(" "),cx:o,cy:16,r:12,onClick:this.handleClick.bind(this,i)},2*i)),e.push(Object(_.jsx)("text",{className:"center",x:o,y:16,children:s},2*i+1))}return Object(_.jsx)(_.Fragment,{children:e})}},{key:"handleClick",value:function(t){var e=Object(y.a)(this.outputPins,1)[0],i=e.state.v^1<<t;e.setLogicState(new Q({v:i})),this.update()}},{key:"width",get:function(){return Object(dt.a)(Object(pt.a)(i.prototype),"width",this)},set:function(t){var e=this.scope.Point;console.log(t);var n=this.width-t;this.translate(new e(32*n,0)),Object(lt.a)(Object(pt.a)(i.prototype),"width",t,this,!0)}},{key:"reset",value:function(){var t=Object(y.a)(this.outputPins,1)[0],e=t.state;Object(dt.a)(Object(pt.a)(i.prototype),"reset",this).call(this),t.setLogicState(e)}}]),i}(A),ft=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.COMPOSITE_BUILT_IN,delay:1}))}return Object(u.a)(i,[{key:"operate",value:function(){if(0===this.subtype){var t=this.inputPins[0].state,e=this.inputPins[1].state;if(0===t.x&&0===t.z&&0===e.x&&0===e.z){var i=t.v&e.v,n=t.v^e.v;this.postEvent(new Q({v:n}),this.outputPins[0]),this.postEvent(new Q({v:i}),this.outputPins[1])}else this.postEvent(new Q({x:1}),this.outputPins[0]),this.postEvent(new Q({x:1}),this.outputPins[1])}else{for(var s=this.inputPins[0].state,o=this.inputPins[1].state,a=this.inputPins[2].state,r=s.v+o.v+a.v,c=r>>this.width,h=s.x|o.x|a.x|s.z|o.z|a.z,u=0;u<this.width;u++)if(h>>u&1){h=-1&~this.bitMask(u+1)&this.bitMask();break}r&=~h&this.bitMask(),this.postEvent(new Q({v:r,x:h}),this.outputPins[0]),h?this.postEvent(new Q({x:1}),this.outputPins[1]):this.postEvent(new Q({v:c}),this.outputPins[1])}}},{key:"setUpBody",value:function(){var t=this.scope,e=t.Path,i=t.Point,n=t.Size;return new e.Rectangle(new i(0,0),new n(48,32))}},{key:"setUpOutputPins",value:function(t){var e=t.width,i=new q({parent:this,pinType:F.OUTPUT,orientation:z.UP,board:this.board,width:e,label:"S"}),n=new q({parent:this,pinType:F.OUTPUT,orientation:z.LEFT,board:this.board,label:"C__out"});return i.updateGeometry(new this.scope.Point(24,0)),n.updateGeometry(new this.scope.Point(0,16)),[i,n]}},{key:"setUpInputPins",value:function(t){var e=t.width,i=new q({parent:this,pinType:F.INPUT,orientation:z.DOWN,board:this.board,width:e,label:"A"});i.updateGeometry(new this.scope.Point(16,32));var n=new q({parent:this,pinType:F.INPUT,orientation:z.DOWN,board:this.board,width:e,label:"B"});if(n.updateGeometry(new this.scope.Point(32,32)),0===this.subtype)return[i,n];var s=new q({parent:this,pinType:F.INPUT,orientation:z.RIGHT,board:this.board,label:"C__in"});return s.updateGeometry(new this.scope.Point(48,16)),[i,n,s]}}]),i}(A),bt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){return Object(h.a)(this,i),e.call(this,Object(b.a)(Object(b.a)({},t),{},{type:G.INPUT}))}return Object(u.a)(i,[{key:"operate",value:function(){this.outputPins[0].setLogicState(new Q({}))}},{key:"reset",value:function(){}},{key:"setUpBody",value:function(){var t=this.scope,e=t.Path,i=t.Point,n=t.Size;return new e.Rectangle(new i(0,0),new n(32,32))}},{key:"setUpOutputPins",value:function(){var t=new q({parent:this,pinType:F.OUTPUT,orientation:z.RIGHT,board:this.board});return t.updateGeometry(new this.scope.Point(32,16)),[t]}},{key:"extraRender",value:function(){return Object(_.jsx)("path",{className:"decoration",d:" M16,6.5 v13\r M9.5,19.5 h13\r M12,22.5 h8\r M14.5,25.5 h3\r "})}}]),i}(A),yt=function(){function t(e){var i;Object(h.a)(this,t),this.subtype=void 0,this.type=void 0,this.label=void 0,this.component=void 0,this.type=e.type,this.subtype=e.subtype,this.label=null!==(i=e.label)&&void 0!==i?i:"<NO LABEL>",this.component=this.make()}return Object(u.a)(t,[{key:"make",value:function(t){var e,i=null!==(e=null===t||void 0===t?void 0:t.scope)&&void 0!==e?e:X;switch(this.type){case G.GATE:return new ot({subtype:this.subtype,scope:i,board:t});case G.OUTPUT:return new ct({subtype:0,board:t,scope:i});case G.INPUT:return this.makeInput(this.subtype,i,t);case G.COMPOSITE_BUILT_IN:return this.makeComposite(this.subtype,i,t);default:throw new Error("Unsupported Part Type")}}},{key:"makeInput",value:function(t,e,i){switch(t){case 0:return new ut({board:i,scope:e,subtype:0});case 1:return new vt({subtype:1,board:i,scope:e});case 2:return new bt({subtype:2,board:i,scope:e});default:throw new Error("Unsupported Part Type")}}},{key:"makeComposite",value:function(t,e,i){switch(t){case 0:case 1:return new ft({subtype:this.subtype,scope:e,board:i});default:throw new Error("Unsupported Component Type")}}}]),t}();yt.data=void 0;var mt=yt,Ot=(i(135),function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).state={collapsed:!0},n}return Object(u.a)(i,[{key:"renderPart",value:function(t){var e=t.component,i=e.render(),n=t.label,s=e.geometry.bounds,o=s.left,a=s.top,r=s.width,c=s.height;o-=2,a-=2,r+=4,c+=4;var h=n.replace(" ","_");return Object(_.jsxs)(w.a,{elevation:3,classes:{root:"part"},draggable:!0,onDragStart:this.handleDragStart.bind(this,h,t),onDragEnd:this.handleDragEnd.bind(this),children:[Object(_.jsx)("div",{className:"part-image-container",children:Object(_.jsx)("svg",{className:"part-image",id:h,viewBox:"".concat(o," ").concat(a," ").concat(r," ").concat(c),width:r,height:c,children:i})}),Object(_.jsx)("div",{className:"part-label",children:n})]},e.uuid)}},{key:"handleDragStart",value:function(t,e,i){mt.data=e;var n=document.getElementById(t),s=e.component.geometry.bounds.center,o=s.x,a=s.y;i.dataTransfer.setDragImage(n,o+2,a+2),i.dataTransfer.effectAllowed="move"}},{key:"handleDragEnd",value:function(){mt.data=void 0}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(N.a,{dense:!0,children:Object(_.jsx)(k.a,{sx:{width:"100%",borderRadius:"10px"},variant:"contained",classes:{endIcon:"drawer-handle-icon-container"},onClick:this.handleClick.bind(this),endIcon:Object(_.jsx)(S.a,{className:"drawer-handle-icon",icon:M.faChevronRight,rotation:this.state.collapsed?void 0:90}),children:Object(_.jsx)("span",{style:{flexGrow:1},children:this.props.label})})}),Object(_.jsx)(P.a,{classes:{wrapperInner:"drawer-contents"},in:!this.state.collapsed,timeout:"auto",children:this.props.parts.map(this.renderPart.bind(this))}),Object(_.jsx)(T.a,{})]})}},{key:"handleClick",value:function(){this.setState((function(t){return{collapsed:!t.collapsed}}))}}]),i}(o.a.Component));i(136);var jt,wt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).state={open:!1,activeTab:!1},n}return Object(u.a)(i,[{key:"renderUnderlay",value:function(){var t=["sidebar"];this.state.activeTab||t.push("collapsed");var e=t.join(" ");return Object(_.jsx)(v.a,{className:e,children:Object(_.jsx)(w.a,{classes:{root:"sidebar-content"}})})}},{key:"renderPartsView",value:function(){var t=["sidebar"];"Parts".localeCompare(this.state.activeTab||"")&&t.push("collapsed");var e=t.join(" ");return Object(_.jsx)(v.a,{className:e,children:Object(_.jsx)(w.a,{classes:{root:"sidebar-content"},sx:{pointerEvents:"auto"},children:Object(_.jsx)(O.a,{subheader:Object(_.jsx)(j.a,{children:"Parts"}),children:Object(m.a)(this.props.parts.entries()).map((function(t){var e=Object(y.a)(t,2),i=e[0],n=e[1];return Object(_.jsx)(Ot,{label:i,parts:n},i)}))})})})}},{key:"renderProjectView",value:function(){var t=["sidebar"];"Project".localeCompare(this.state.activeTab||"")&&t.push("collapsed");var e=t.join(" ");return Object(_.jsx)(v.a,{className:e,children:Object(_.jsx)(w.a,{classes:{root:"sidebar-content"},sx:{pointerEvents:"auto"},children:"[Project View Placeholder]"})})}},{key:"renderTab",value:function(t,e){return Object(_.jsx)(x.a,Object(b.a)(Object(b.a)({label:Object(_.jsx)(v.a,{sx:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)"},children:t}),value:t},function(t){return{id:"vertical-tab-".concat(t),"aria-controls":"vertical-tabpanel-".concat(t)}}(e)),{},{sx:{minWidth:"48px",minHeight:"100px"},onClick:this.handleTabClick.bind(this,t)}))}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(g.a,{orientation:"vertical",variant:"scrollable",value:this.state.activeTab,onChange:this.handleTabChange.bind(this),"aria-label":"Side Controls",sx:{borderRight:1,borderColor:"divider",flexShrink:0,minWidth:"48px"},children:[this.renderTab("Project",0),Object(_.jsx)(T.a,{}),this.renderTab("Parts",1),Object(_.jsx)(T.a,{})]}),Object(_.jsx)(T.a,{orientation:"vertical",sx:{zIndex:"drawer"}}),Object(_.jsxs)("div",{style:{position:"absolute",left:"50px",width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},children:[this.renderUnderlay(),this.renderProjectView(),this.renderPartsView()]})]})}},{key:"handleTabClick",value:function(t,e){0===t.localeCompare(this.state.activeTab||"")&&this.setState({activeTab:!1})}},{key:"handleTabChange",value:function(t,e){this.setState({activeTab:e})}},{key:"handleMouseEnter",value:function(t){this.setState({open:!0})}}]),i}(o.a.Component),xt=(i(139),i(108)),gt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(){return Object(h.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"addAll",value:function(t){var e,i=Object(U.a)(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;this.add(n)}}catch(s){i.e(s)}finally{i.f()}}},{key:"union",value:function(t){var e,n=new i,s=Object(U.a)(this);try{for(s.s();!(e=s.n()).done;){var o=e.value;n.add(o)}}catch(h){s.e(h)}finally{s.f()}var a,r=Object(U.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;n.add(c)}}catch(h){r.e(h)}finally{r.f()}return n}},{key:"intersection",value:function(t){var e,n=new i,s=Object(U.a)(this);try{for(s.s();!(e=s.n()).done;){var o=e.value;t.has(o)&&n.add(o)}}catch(a){s.e(a)}finally{s.f()}return n}},{key:"xor",value:function(t){return this.symmetricDifference(t)}},{key:"symmetricDifference",value:function(t){var e,n=new i,s=Object(U.a)(this);try{for(s.s();!(e=s.n()).done;){var o=e.value;t.has(o)||n.add(o)}}catch(h){s.e(h)}finally{s.f()}var a,r=Object(U.a)(t);try{for(r.s();!(a=r.n()).done;){var c=a.value;this.has(c)||n.add(c)}}catch(h){r.e(h)}finally{r.f()}return n}}]),i}(Object(xt.a)(Set));!function(t){t[t.NONE=0]="NONE",t[t.PAN=1]="PAN",t[t.DRAG=2]="DRAG",t[t.SELECT=3]="SELECT",t[t.SELECT_APPEND=4]="SELECT_APPEND",t[t.SELECT_XOR=5]="SELECT_XOR"}(jt||(jt={}));var kt;!function(t){t[t.NONE=0]="NONE",t[t.COMPONENT=1]="COMPONENT",t[t.PIN=2]="PIN"}(kt||(kt={}));var Pt=function(){function t(){Object(h.a)(this,t),this.sPoint=void 0,this.selectBox=void 0,this.mouseButton=void 0,this.targetComponent=void 0,this.action=jt.NONE,this.handlers=new Map,this.priorSelectionType=kt.NONE,this.priorSelection=new gt,this.currentSelection=new gt,this.getViewCoordinates=void 0}return Object(u.a)(t,[{key:"addHandler",value:function(t,e){if(this.handlers.has(t))throw new Error("Cannot assign multiple handlers for ".concat(t));this.handlers.set(t,e),window.addEventListener(t,e)}},{key:"removeHandlers",value:function(){this.handlers.forEach((function(t,e){window.removeEventListener(e,t)})),this.handlers.clear()}},{key:"reset",value:function(){this.removeHandlers(),this.mouseButton=void 0,this.action=jt.NONE,this.selectBox&&(this.selectBox.remove(),this.selectBox=void 0,this.sPoint=void 0),this.priorSelectionType=kt.NONE,this.priorSelection.clear(),this.currentSelection.clear()}},{key:"handleBoardMouseDown",value:function(t,e){if(!(e.button>2)&&(e.preventDefault(),e.stopPropagation(),this.action===jt.NONE)){if(this.mouseButton=e.button,0===e.button&&!e.altKey){this.currentSelection.clear(),e.getModifierState("Shift")&&this.priorSelection.size>0?this.action=jt.SELECT_APPEND:e.getModifierState("Control")&&this.priorSelection.size>0?this.action=jt.SELECT_XOR:(this.action=jt.SELECT,t.clearSelection());var i=t.scope,n=i.Path,s=i.Point,o=i.Rectangle,a=i.Size,r=this.getViewCoordinates(e),c=r.x,h=r.y;this.sPoint=new s(c,h);var u=new o(this.sPoint,new a(0,0));this.selectBox=new n.Rectangle(u),this.addHandler("mousemove",this.handleMouseMoveSelect.bind(this,t)),this.addHandler("mouseup",this.handleMouseUp.bind(this,t))}(1===e.button||0===e.button&&e.altKey)&&(this.action=jt.PAN,this.addHandler("mousemove",this.handleMouseMovePan.bind(this,t)),this.addHandler("mouseup",this.handleMouseUp.bind(this,t)))}}},{key:"handleGateMouseDown",value:function(t,e,i){if(0===i.button&&(i.preventDefault(),i.stopPropagation(),this.action===jt.NONE)){this.mouseButton=i.button,this.targetComponent=e;var n=t.selectedComponents;i.getModifierState("Control")?e.selected?(e.selected=!1,n.delete(e)):(e.selected=!0,n.add(e)):i.getModifierState("Shift")||n.has(e)?e.selected||(e.selected=!0,n.add(e)):(t.clearSelection(),e.selected=!0,n.add(e)),this.addHandler("mousemove",this.handleMouseMoveDrag.bind(this,t)),this.addHandler("mouseup",this.handleMouseUp.bind(this,t))}}},{key:"handlePinMouseDown",value:function(t,e,i){i.stopPropagation(),i.preventDefault();var n=t.selectedPins,s=0;if(n.forEach((function(t){s+=t.pinType===F.OUTPUT?1:0})),s<=1){var o,a=Object(U.a)(n);try{for(a.s();!(o=a.n()).done;){var r=o.value;this.makeConnection(t,r,e)}}catch(c){a.e(c)}finally{a.f()}}e.selected=!0,t.selectedPins.add(e)}},{key:"makeConnection",value:function(t,e,i){var n=e.connectTo(i);n&&(t.addConnection(n),t.update())}},{key:"handleMouseUp",value:function(t,e){e.preventDefault(),e.stopPropagation(),e.button===this.mouseButton&&(this.reset(),t.selectedComponents.size>0?(this.priorSelectionType=kt.COMPONENT,this.priorSelection.addAll(t.selectedComponents)):t.selectedPins.size>0&&(this.priorSelectionType=kt.PIN,this.priorSelection.addAll(t.selectedPins)),t.update())}},{key:"handleMouseMoveSelect",value:function(t,e){var i=this.getViewCoordinates(e),n=i.x,s=i.y;if(e.stopPropagation(),e.preventDefault(),void 0===this.sPoint||void 0===this.selectBox)throw new Error("Invalid mouse state (select mousemove).");var o=[this.sPoint.x,this.sPoint.y],a=o[0],r=o[1];if(n===a&&s===r){var c,h=Object(U.a)(this.selectBox.segments);try{for(h.s();!(c=h.n()).done;){c.value.point=this.sPoint}}catch(F){h.e(F)}finally{h.f()}}n<=a&&(this.selectBox.segments[0].point.x=n,this.selectBox.segments[1].point.x=n,this.selectBox.segments[2].point.x=a,this.selectBox.segments[3].point.x=a),n>=a&&(this.selectBox.segments[0].point.x=a,this.selectBox.segments[1].point.x=a,this.selectBox.segments[2].point.x=n,this.selectBox.segments[3].point.x=n),s<=r&&(this.selectBox.segments[0].point.y=r,this.selectBox.segments[1].point.y=s,this.selectBox.segments[2].point.y=s,this.selectBox.segments[3].point.y=r),s>=r&&(this.selectBox.segments[0].point.y=s,this.selectBox.segments[1].point.y=r,this.selectBox.segments[2].point.y=r,this.selectBox.segments[3].point.y=s),t.selectedComponents.clear(),t.selectedPins.clear();var u=Object(m.a)(t.components.values()),l=Object(m.a)(t.pins.values());if(this.action===jt.SELECT){this.currentSelection.clear();var d,p=Object(U.a)(u);try{for(p.s();!(d=p.n()).done;){var v=d.value;v.collides(this.selectBox)&&this.currentSelection.add(v)}}catch(F){p.e(F)}finally{p.f()}if(this.currentSelection.size>0)t.selectedComponents.clear(),t.selectedComponents.addAll(this.currentSelection);else{var f,b=Object(m.a)(t.pins.values()),y=Object(U.a)(b);try{for(y.s();!(f=y.n()).done;){var O=f.value;O.collides(this.selectBox)&&this.currentSelection.add(O)}}catch(F){y.e(F)}finally{y.f()}t.selectedPins.clear(),t.selectedPins.addAll(this.currentSelection)}}else if(this.currentSelection.clear(),this.priorSelectionType===kt.COMPONENT){var j,w=Object(m.a)(t.components.values()),x=Object(U.a)(w);try{for(x.s();!(j=x.n()).done;){var g=j.value;g.collides(this.selectBox)&&this.currentSelection.add(g)}}catch(F){x.e(F)}finally{x.f()}if(this.action===jt.SELECT_APPEND)t.selectedComponents.addAll(this.currentSelection.union(this.priorSelection));else{if(this.action!==jt.SELECT_XOR)throw new Error("Inconsistent selection state");t.selectedComponents.addAll(this.currentSelection.xor(this.priorSelection))}}else{if(this.priorSelectionType!==kt.PIN)throw new Error("Inconsistent selection state");var k,P=Object(m.a)(t.pins.values()),T=Object(U.a)(P);try{for(T.s();!(k=T.n()).done;){var N=k.value;N.collides(this.selectBox)&&this.currentSelection.add(N)}}catch(F){T.e(F)}finally{T.f()}if(this.action===jt.SELECT_APPEND)t.selectedPins.addAll(this.currentSelection.union(this.priorSelection));else{if(this.action!==jt.SELECT_XOR)throw new Error("Inconsistent selection state");t.selectedPins.addAll(this.currentSelection.xor(this.priorSelection))}}if(t.selectedComponents.size>0){var M,S=Object(U.a)(u);try{for(S.s();!(M=S.n()).done;){var C=M.value;C.selected=t.selectedComponents.has(C)}}catch(F){S.e(F)}finally{S.f()}var E,L=Object(U.a)(l);try{for(L.s();!(E=L.n()).done;){E.value.selected=!1}}catch(F){L.e(F)}finally{L.f()}}else if(t.selectedPins.size>0){var D,R=Object(U.a)(l);try{for(R.s();!(D=R.n()).done;){var _=D.value;_.selected=t.selectedPins.has(_)}}catch(F){R.e(F)}finally{R.f()}var I,B=Object(U.a)(u);try{for(B.s();!(I=B.n()).done;){I.value.selected=!1}}catch(F){B.e(F)}finally{B.f()}}else{var A,G=Object(U.a)(u);try{for(G.s();!(A=G.n()).done;){A.value.selected=!1}}catch(F){G.e(F)}finally{G.f()}var W,z=Object(U.a)(l);try{for(z.s();!(W=z.n()).done;){W.value.selected=!1}}catch(F){z.e(F)}finally{z.f()}}t.update(),t.updateProperties()}},{key:"handleMouseMovePan",value:function(t,e){var i=this.getViewCoordinates(e),n=i.dx,s=i.dy;t.viewBox={top:t.viewBox.top-s,left:t.viewBox.left-n,width:t.viewBox.width,height:t.viewBox.height},t.update()}},{key:"handleMouseMoveDrag",value:function(t,e){var i,n=this.getViewCoordinates(e),s=n.dx,o=n.dy;(null===(i=this.targetComponent)||void 0===i?void 0:i.selected)||(this.targetComponent.selected=!0,t.selectedComponents.add(this.targetComponent));var a,r=Object(U.a)(t.selectedComponents);try{for(r.s();!(a=r.n()).done;){a.value.translate(new L.a.Point(s,o))}}catch(c){r.e(c)}finally{r.f()}}},{key:"isSelect",value:function(){return[jt.SELECT,jt.SELECT_APPEND,jt.SELECT_XOR].includes(this.action)}},{key:"getSelection",value:function(t){if(this.action===jt.SELECT_APPEND)return t.union(this.priorSelection);if(this.action===jt.SELECT_XOR)return t.symmetricDifference(this.priorSelection);throw new Error("Inconsistent Selection State")}}]),t}(),Tt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).mouseManager=new Pt,n.ref=void 0,n.resizeObserver=void 0,n.state={viewPort:{width:0,height:0},scaleFactor:1,pan:!1,drag:!1},n.ref=o.a.createRef(),n}return Object(u.a)(i,[{key:"onResize",value:function(t){var e=t[0].contentRect,i=e.width,n=e.height,s=this.props.board;this.setState((function(t){return s.viewBox={left:s.viewBox.left,top:s.viewBox.top,width:i*t.scaleFactor,height:n*t.scaleFactor},{viewPort:{width:i,height:n}}}))}},{key:"componentDidMount",value:function(){var t=this;this.props.board.update=function(){return t.setState({})},this.setState({});var e=this.ref.current;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(e),this.mouseManager.getViewCoordinates=this.getViewCoordinates.bind(this)}},{key:"componentWillUnmount",value:function(){var t;null===(t=this.resizeObserver)||void 0===t||t.disconnect(),this.mouseManager.reset()}},{key:"defs",value:function(){return Object(_.jsxs)("defs",{children:[Object(_.jsxs)("pattern",{id:"grid",x:0,y:0,width:80,height:80,viewBox:"0 0 80 80",patternUnits:"userSpaceOnUse",children:[Object(_.jsx)("path",{className:"grid",d:"M 0 0 L 0 80",strokeWidth:"2"}),Object(_.jsx)("path",{className:"grid",d:"M 10 0 L 10 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 20 0 L 20 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 30 0 L 30 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 40 0 L 40 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 50 0 L 50 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 60 0 L 60 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 70 0 L 70 80",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 80 0 L 80 80",strokeWidth:"2"}),Object(_.jsx)("path",{className:"grid",d:"M 0 0 L 80 0",strokeWidth:"2"}),Object(_.jsx)("path",{className:"grid",d:"M 0 10 L 80 10",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 20 L 80 20",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 30 L 80 30",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 40 L 80 40",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 50 L 80 50",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 60 L 80 60",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 70 L 80 70",strokeWidth:"0.5"}),Object(_.jsx)("path",{className:"grid",d:"M 0 80 L 80 80",strokeWidth:"2"})]}),Object(_.jsxs)("pattern",{id:"bus",x:0,y:0,width:3,height:3,viewBox:"0 0 3 3",patternUnits:"userSpaceOnUse",children:[Object(_.jsx)("rect",{x:2,y:0,width:1,height:1,fill:"black"}),Object(_.jsx)("rect",{x:1,y:1,width:1,height:1,fill:"black"}),Object(_.jsx)("rect",{x:0,y:2,width:1,height:1,fill:"black"})]}),Object(_.jsxs)("radialGradient",{id:"bulb-glow",children:[Object(_.jsx)("stop",{offset:"0%",stopColor:"rgb(255, 255, 128)"}),Object(_.jsx)("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0)"})]})]},"defs")}},{key:"renderGrid",value:function(){var t=this.props.board.viewBox,e=t.left,i=t.top,n=t.width,s=t.height;return Object(_.jsx)("rect",{x:e,y:i,width:n,height:s,fill:"url(#grid)"},"grid")}},{key:"render",value:function(){var t,e,i=this,n=this.props.board.viewBox,s=n.left,o=n.top,a=n.width,r=n.height,c=null===(t=this.mouseManager.selectBox)||void 0===t||null===(e=t.exportSVG())||void 0===e?void 0:e.getAttribute("d"),h=this.mouseManager,u={onGateMouseDown:h.handleGateMouseDown.bind(h,this.props.board),onGateContextMenu:this.handleGateContextMenu.bind(this),onPinMouseDown:h.handlePinMouseDown.bind(h,this.props.board)},l=[];this.props.board.connections.forEach((function(t){return l.push(t.render())}));var d=[];return this.props.board.components.forEach((function(t){return d.push(t.render(u))})),Object(_.jsx)("div",{ref:this.ref,style:{width:"100%",height:"100%"},children:Object(_.jsx)("svg",{className:"board-wrapper",style:this.state.viewPort,xmlns:"http://www.w3.org/2000/svg",onWheel:function(t){return i.handleWheel(t)},onMouseDown:h.handleBoardMouseDown.bind(h,this.props.board),onDragEnter:this.handleDragEnter.bind(this),onDragOver:function(t){return i.handleDragOver(t)},onDrop:function(t){return i.handleDrop(t)},children:Object(_.jsxs)("svg",{className:"board",preserveAspectRatio:"xMinYMin slice",xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(s," ").concat(o," ").concat(a," ").concat(r),onScroll:function(){return console.log("scroll")},children:[this.defs(),this.renderGrid(),Object(_.jsx)("circle",{className:"origin",x:"0",y:"0",r:"40",fill:"red"}),l,d,c&&Object(_.jsx)("path",{className:"select",d:c,vectorEffect:"non-scaling-stroke"})]})})})}},{key:"clearSelection",value:function(){this.props.board.clearSelection()}},{key:"getViewCoordinates",value:function(t){var e=this.ref.current.getBoundingClientRect(),i=e.left,n=e.top,s=e.width,o=e.height,a=t.pageX-i,r=t.pageY-n,c=t.movementX/window.devicePixelRatio,h=t.movementY/window.devicePixelRatio,u=this.props.board.viewBox,l=u.left,d=u.top,p=u.width,v=u.height,f=a/s,b=r/o;return{x:l+f*p,y:d+b*v,rx:f,ry:b,dx:c/s*p,dy:h/o*v}}},{key:"handleDragEnter",value:function(t){t.preventDefault(),t.dataTransfer.effectAllowed="move"}},{key:"handleDragOver",value:function(t){t.preventDefault(),t.dataTransfer.effectAllowed="move"}},{key:"handleDrop",value:function(t){t.preventDefault();var e=this.getViewCoordinates(t),i=e.x,n=e.y,s=mt.data;if(s){var o=s.make(this.props.board);o.geometry.translate(new L.a.Point(i-16,n-16)),this.props.board.addComponent(o),this.setState({})}}},{key:"handleWheel",value:function(t){var e=this.getViewCoordinates(t),n=e.x,s=e.y,o=e.rx,a=e.ry,r=this.state.viewPort.width,c=this.state.viewPort.height,h=this.state.scaleFactor,u=i.between(1/16,Math.pow(2,t.deltaY/1e3)*h,4),l=r*u,d=c*u,p={left:n-o*l,top:s-a*d,width:l,height:d};this.props.board.viewBox=p,this.setState({scaleFactor:u})}},{key:"handleGateContextMenu",value:function(t,e){e.shiftKey||(e.stopPropagation(),e.preventDefault(),console.log("context g!"))}}],[{key:"between",value:function(t,e,i){return Math.min(Math.max(t,e),i)}}]),i}(o.a.Component),Nt=i(86),Mt=i.n(Nt),St=function(){function t(e){Object(h.a)(this,t),this.data=void 0,this.left=null,this.right=null,this.weight=1,this.max_depth=1,this.data=e.data}return Object(u.a)(t,[{key:"rotateLeft",value:function(){var t,e,i;if(!this.right)throw Error("Impossible rotation");var n=this.right,s=n.left;return this.right=s,this.weight-=n.weight,this.weight+=(null===s||void 0===s?void 0:s.weight)||0,n.left=this,n.weight-=(null===s||void 0===s?void 0:s.weight)||0,n.weight+=this.weight,this.max_depth=Math.max((null===(t=this.left)||void 0===t?void 0:t.max_depth)||0,(null===(e=this.right)||void 0===e?void 0:e.max_depth)||0)+1,n.max_depth=Math.max(n.left.max_depth,(null===(i=n.right)||void 0===i?void 0:i.max_depth)||0)+1,n}},{key:"rotateRight",value:function(){var t,e,i;if(!this.left)throw Error("Impossible rotation");var n=this.left,s=n.right;return this.left=s,this.weight-=n.weight,this.weight+=(null===s||void 0===s?void 0:s.weight)||0,n.right=this,n.weight-=(null===s||void 0===s?void 0:s.weight)||0,n.weight+=this.weight,this.max_depth=Math.max((null===(t=this.left)||void 0===t?void 0:t.max_depth)||0,(null===(e=this.right)||void 0===e?void 0:e.max_depth)||0)+1,n.max_depth=Math.max((null===(i=n.left)||void 0===i?void 0:i.max_depth)||0,n.right.max_depth)+1,n}},{key:"slant",value:function(){var t,e,i=(null===(t=this.left)||void 0===t?void 0:t.max_depth)||0;return((null===(e=this.right)||void 0===e?void 0:e.max_depth)||0)-i}},{key:"balance",value:function(){var t=this.slant();return t<-1&&this.left?(this.left.slant()>=1&&(this.left=this.left.rotateLeft()),this.rotateRight()):t>1&&this.right?(this.right.slant()<=-1&&(this.right=this.right.rotateRight()),this.rotateLeft()):this}},{key:"insert",value:function(e,i){var n=i(e,this.data),s=!1;if(n<0)if(this.left){var o=this.left.insert(e,i),a=Object(y.a)(o,2);this.left=a[0],s=a[1]}else this.left=new t({data:e}),s=!0;else{if(!(n>0))return this.data=e,[this,!1];if(this.right){var r=this.right.insert(e,i),c=Object(y.a)(r,2);this.right=c[0],s=c[1]}else this.right=new t({data:e}),s=!0}var h,u,l=this;s&&(this.weight+=1,this.max_depth=Math.max((null===(h=this.left)||void 0===h?void 0:h.max_depth)||0,(null===(u=this.right)||void 0===u?void 0:u.max_depth)||0)+1,l=this.balance());return[l,s]}},{key:"find",value:function(t,e){var i=e(t,this.data);return i<0?this.left&&this.left.find(t,e):i>0?this.right&&this.right.find(t,e):this.data}},{key:"popFirst",value:function(){if(this.left){var t,e=this.left.popFirst(),i=Object(y.a)(e,2),n=i[0],s=i[1];return this.left=n,this.weight-=1,this.max_depth=Math.max((null===n||void 0===n?void 0:n.max_depth)||0,(null===(t=this.right)||void 0===t?void 0:t.max_depth)||0)+1,[this.balance(),s]}return[this.right,this.data]}},{key:"popLast",value:function(){if(this.right){var t,e=this.right.popFirst(),i=Object(y.a)(e,2),n=i[0],s=i[1];return this.right=n,this.weight-=1,this.max_depth=Math.max((null===n||void 0===n?void 0:n.max_depth)||0,(null===(t=this.left)||void 0===t?void 0:t.max_depth)||0)+1,[this.balance(),s]}return[this.left,this.data]}},{key:"remove",value:function(t,e){var i,n,s,o=e(t,this.data),a=this;if(o<0)if(this.left){var r=this.left.remove(t,e),c=Object(y.a)(r,2);this.left=c[0],i=c[1]}else i=!1;else if(o>0)if(this.right){var h=this.right.remove(t,e),u=Object(y.a)(h,2);this.right=u[0],i=u[1]}else i=!1;else{if(this.left){var l=this.left.popLast(),d=Object(y.a)(l,2);this.left=d[0],this.data=d[1]}else{if(!this.right)return[null,!0];var p=this.right.popFirst(),v=Object(y.a)(p,2);this.right=v[0],this.data=v[1]}i=!0}i&&(this.weight-=1,this.max_depth=Math.max((null===(n=this.left)||void 0===n?void 0:n.max_depth)||0,(null===(s=this.right)||void 0===s?void 0:s.max_depth)||0)+1,a=this.balance());return[a,i]}},{key:"clear",value:function(){this.left&&(this.left.clear(),this.left=null),this.right&&(this.right.clear(),this.right=null)}}]),t}(),Ct=Mt.a.mark(Ut);function Ut(t){var e,i,n;return Mt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(null!==t.root){s.next=2;break}return s.abrupt("return");case 2:e=[],i=t.root;case 4:if(!i&&!e.length){s.next=12;break}for(;i;)e.push(i),i=i.left;return n=e.pop(),s.next=9,n.data;case 9:n.right&&(i=n.right),s.next=4;break;case 12:return s.abrupt("return");case 13:case"end":return s.stop()}}),Ct)}var Et=function(t){function e(t){Object(h.a)(this,e),this.cmp=void 0,this.root=null,this.cmp=t.cmp}return Object(u.a)(e,[{key:"insert",value:function(t){if(this.root){var e=this.root.insert(t,this.cmp),i=Object(y.a)(e,1);this.root=i[0]}else this.root=new St({data:t})}},{key:"remove",value:function(t){if(!this.root)return!1;var e=this.root.remove(t,this.cmp),i=Object(y.a)(e,2);return this.root=i[0],i[1]}},{key:"clear",value:function(){this.root&&(this.root.clear(),this.root=null)}},{key:"find",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e=e||this.cmp,this.root&&this.root.find(t,e)||null}},{key:"first",value:function(){if(!this.root)return null;for(var t=this.root;t.left;)t=t.left;return t.data}},{key:"popFirst",value:function(){if(!this.root)return null;var t=this.root.popFirst(),e=Object(y.a)(t,2),i=e[0],n=e[1];return this.root=i,n}},{key:"size",value:function(){var t;return(null===(t=this.root)||void 0===t?void 0:t.weight)||0}},{key:t,value:function(){return Ut(this)}}]),e}(Symbol.iterator),Lt=function(){function t(e){Object(h.a)(this,t),this.pin=void 0,this.time=void 0,this.state=void 0,this.pin=e.pin,this.time=e.time,this.state=e.state}return Object(u.a)(t,[{key:"apply",value:function(){this.pin.setLogicState(this.state)}},{key:"cmp",value:function(t){return this.time===t.time?this.pin.uuid.localeCompare(t.pin.uuid):this.time-t.time}}]),t}(),Dt=function(){function t(){Object(h.a)(this,t),this._viewBox={left:0,top:0,width:800,height:600},this.components=new Map,this.connections=new Map,this.pins=new Map,this.selectedComponents=new gt,this.selectedPins=new gt,this.scope=W(),this.simulation=new Et({cmp:function(t,e){return t.cmp(e)}}),this.simulationTimerId=-1,this.simulationCurrentTime=0,this.simulationIntervalMs=25,this.simulationStepSize=1,this.updateApp=function(){},this.updateProperties=function(){},this.update=function(){}}return Object(u.a)(t,[{key:"viewBox",get:function(){return this._viewBox},set:function(t){this._viewBox=t}},{key:"render",value:function(){return Object(_.jsx)(Tt,{board:this})}},{key:"postEvent",value:function(t,e,i){var n=new Lt({pin:e,time:this.simulationCurrentTime+i,state:t});this.simulation.insert(n)}},{key:"startSimulation",value:function(){-1===this.simulationTimerId&&(this.simulationTimerId=setInterval(this.advanceSimulation.bind(this),this.simulationIntervalMs))}},{key:"stopSimulation",value:function(){this.pauseSimulation(),this.simulation.clear(),this.simulationCurrentTime=0,this.components.forEach((function(t){return t.reset()}))}},{key:"pauseSimulation",value:function(){-1!==this.simulationTimerId&&(clearInterval(this.simulationTimerId),this.simulationTimerId=-1)}},{key:"advanceSimulation",value:function(){for(var t=this.simulationCurrentTime+this.simulationStepSize;this.simulation.size()&&this.simulation.first().time<=t;){var e=this.simulation.popFirst();this.simulationCurrentTime=e.time,e.apply()}this.simulationCurrentTime=t,this.updateApp()}},{key:"simulationRunning",get:function(){return-1!==this.simulationTimerId}},{key:"simulationPaused",get:function(){return!this.simulationRunning&&0!==this.simulationCurrentTime}},{key:"simulationStopped",get:function(){return!this.simulationRunning&&0===this.simulationCurrentTime}},{key:"addComponent",value:function(t){this.components.set(t.uuid,t)}},{key:"addConnection",value:function(t){this.connections.set(t.uuid,t)}},{key:"addPin",value:function(t){this.pins.set(t.uuid,t)}},{key:"removeComponent",value:function(t){this.components.delete(t)}},{key:"removeConnection",value:function(t){this.connections.delete(t)}},{key:"removePin",value:function(t){this.pins.delete(t)}},{key:"clearSelection",value:function(){var t,e=Object(U.a)(this.selectedComponents);try{for(e.s();!(t=e.n()).done;){t.value.selected=!1}}catch(s){e.e(s)}finally{e.f()}this.selectedComponents.clear();var i,n=Object(U.a)(this.selectedPins);try{for(n.s();!(i=n.n()).done;){i.value.selected=!1}}catch(s){n.e(s)}finally{n.f()}this.selectedPins.clear()}}]),t}(),Rt=i(60),_t=i(194),It=i(180),Bt=i(107),At=i(58),Gt=Object(Bt.a)({palette:{mode:"dark",background:{default:At.a[900]}}}),Wt=Object(Bt.a)({palette:{mode:"light",background:{default:At.a[200]}}}),zt=o.a.createContext({theme:Wt,setTheme:function(t){}}),Ft=i(106),Xt=i.n(Ft),Ht=i(105),Vt=i.n(Ht),Kt=function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(){return Object(h.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){return Object(_.jsx)(zt.Consumer,{children:function(t){var e=t.theme,i=t.setTheme;return Object(_.jsx)(_t.a,{onClick:function(){return i("dark"===e.palette.mode?Wt:Gt)},children:"dark"===e.palette.mode?Object(_.jsx)(Vt.a,{}):Object(_.jsx)(Xt.a,{})})}})}}]),i}(o.a.Component),Qt=(i(141),function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(){return Object(h.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){var t=this.props.board.simulationRunning,e=!t&&this.props.board.simulationStopped;return Object(_.jsxs)(It.a,{className:"toolbar",sx:{backgroundColor:"background.default",border:function(t){return"1px solid ".concat(t.palette.divider)}},spacing:1,divider:Object(_.jsx)(T.a,{orientation:"vertical",variant:"middle",flexItem:!0}),direction:"row",children:[Object(_.jsxs)(v.a,{flexDirection:"row",children:[Object(_.jsxs)(_t.a,{className:t?"pressed":"",onClick:this.onPlay.bind(this),children:[Object(_.jsx)(S.a,{className:"default",size:"xs",icon:Rt.b,style:{position:"fixed"}}),Object(_.jsx)(S.a,{className:"active",size:"xs",icon:Rt.a})]}),Object(_.jsx)(_t.a,{onClick:this.onStop.bind(this),disabled:e,children:Object(_.jsx)(S.a,{size:"xs",icon:Rt.d})}),Object(_.jsx)(_t.a,{onClick:this.onStep.bind(this),disabled:t,children:Object(_.jsx)(S.a,{size:"xs",icon:Rt.c})})]}),Object(_.jsx)(v.a,{children:Object(_.jsx)(Kt,{})})]})}},{key:"onPlay",value:function(){this.props.board.simulationRunning?this.props.board.pauseSimulation():this.props.board.startSimulation(),this.setState({})}},{key:"onStop",value:function(){this.props.board.stopSimulation(),this.setState({})}},{key:"onStep",value:function(){this.props.board.advanceSimulation()}}]),i}(o.a.Component)),Zt=(i(142),function(t){Object(d.a)(i,t);var e=Object(p.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).board=new Dt,n.parts=new Map([["Input",[new mt({type:G.INPUT,subtype:0,label:"Clock"}),new mt({type:G.INPUT,subtype:1,label:"Switch"}),new mt({type:G.INPUT,subtype:2,label:"Ground"})]],["Output",[new mt({type:G.OUTPUT,subtype:0,label:"Bulb"})]],["Gates",[new mt({type:G.GATE,subtype:tt.AND,label:"AND"}),new mt({type:G.GATE,subtype:tt.NAND,label:"NAND"}),new mt({type:G.GATE,subtype:tt.OR,label:"OR"}),new mt({type:G.GATE,subtype:tt.NOR,label:"NOR"}),new mt({type:G.GATE,subtype:tt.XOR,label:"XOR"}),new mt({type:G.GATE,subtype:tt.XNOR,label:"XNOR"}),new mt({type:G.GATE,subtype:tt.BUF,label:"BUF"}),new mt({type:G.GATE,subtype:tt.NOT,label:"NOT"})]],["Other",[new mt({type:G.COMPOSITE_BUILT_IN,subtype:0,label:"Half-Adder"}),new mt({type:G.COMPOSITE_BUILT_IN,subtype:1,label:"Adder"})]]]),n.state={theme:Wt,setTheme:n.setTheme.bind(Object(l.a)(n))},n}return Object(u.a)(i,[{key:"setTheme",value:function(t){console.log("Setting theme (".concat(t.palette.mode,")...")),this.setState({theme:t})}},{key:"componentDidMount",value:function(){var t=this;this.board.updateApp=function(){return t.setState({})}}},{key:"componentWillUnmount",value:function(){this.board.updateApp=function(){}}},{key:"render",value:function(){return Object(_.jsx)(zt.Provider,{value:this.state,children:Object(_.jsx)(f.a,{theme:this.state.theme,children:Object(_.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(_.jsxs)("div",{children:["Menu",Object(_.jsx)(Qt,{board:this.board})]}),Object(_.jsxs)(v.a,{sx:{bgcolor:"background.default",width:"100%",height:"100%",display:"flex"},children:[Object(_.jsx)(wt,{parts:this.parts}),this.board.render()]})]})})})}}]),i}(o.a.Component)),Yt=i(181);r.a.render(Object(_.jsx)(o.a.StrictMode,{children:Object(_.jsx)(Yt.a,{children:Object(_.jsx)(Zt,{})})}),document.getElementById("root")),c()},92:function(t,e){},93:function(t,e){}},[[143,1,2]]]);
//# sourceMappingURL=main.084db335.chunk.js.map